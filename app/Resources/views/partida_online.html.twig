{% extends 'layout.html.twig' %}

{% block title %}
    Partida online
{% endblock %}

{% block content %}
    {% if partida.anfitrionEsBlancas %}
        {% set nombreBlancas = partida.jugadorAnfitrion.nombre %}
        {% set nombreNegras = partida.jugadorInvitado.nombre %}
    {% else %}
        {% set nombreBlancas = partida.jugadorInvitado.nombre %}
        {% set nombreNegras = partida.jugadorAnfitrion.nombre %}
    {% endif %}

    {% if app.user.nombre == nombreNegras %}
        {% set eresNegras = 1 %}
    {% else %}
        {% set eresNegras = 0 %}
    {% endif %}

    <link rel="stylesheet" href="{{ asset('css/partida.css') }}">
    <script type="text/javascript" src="{{ asset('js/partida.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/partida_online.js') }}"></script>
    <script>
        function obtenerDatosPlantilla() {
            miPartida.idPartida = {{ partida.id }};
            {% if eresNegras == true %}
                miPartida.eresNegras = true;
            {% else %}
                miPartida.eresNegras = false;
            {% endif %}
        }
    </script>

    <div id="contenido">
        <div id="contenedorChat">
            <h3 class="nombreJugador nombreNegras">
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45" style="">
                    <rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="none" stroke="none"/>
                    <g class="currentLayer" style=""><title>Layer 1</title>
                        <path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "
                              style="opacity: 1; fill-rule: nonzero; stroke-width: 1.5px; stroke-linecap: round; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-dasharray: none;"
                              id="svg_1" class="selected" fill="#000000" fill-opacity="1" stroke="#dadada"
                              stroke-opacity="1"/>
                    </g>
                </svg>{{ nombreNegras }}
            </h3>
            <div id="divMensajes"></div>
            <textarea id="textAreaChat" name="textAreaChat"
                      placeholder="Escribe aquÃ­ tu mensaje"></textarea>
            <div>
                <button type="button" id="btnEnviarMensaje">Enviar</button>
            </div>
            <h3 class="nombreJugador nombreBlancas">
                <svg xmlns="http://www.w3.org/2000/svg" width="45" height="45">
                    <path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "
                          style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"/>
                </svg>{{ nombreBlancas }}
            </h3>
        </div>

        <div id="tablero">
            <div id="numeros">
                <span>8</span>
                <span>7</span>
                <span>6</span>
                <span>5</span>
                <span>4</span>
                <span>3</span>
                <span>2</span>
                <span>1</span>
            </div>

            <table id="casillasTablero">
                <tr>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                </tr>
                <tr>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                </tr>
                <tr>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                </tr>
                <tr>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                </tr>
                <tr>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                </tr>
                <tr>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                </tr>
                <tr>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                </tr>
                <tr>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                    <td class="negro"></td>
                    <td class="blanco"></td>
                </tr>
            </table>

            <svg id="btnGirar" x="0px" y="0px" viewBox="0 0 1000 1000">
                <path d="M220,500h70L150,290L10,500h70c0,231.9,188.1,420,420,420c49.1,0,96.2-8.9,140-24.5V741.2c-41.3,
                24.1-88.8,38.8-140,38.8C345.4,780,220,654.6,220,500z M920,500c0-231.9-188.2-420-420-420c-49.1,0-96.2,
                8.9-140,24.4v154.4c41.3-24.1,88.8-38.9,140-38.9c154.6,0,280,125.4,280,280h-70l140,210l140-210H920z"/>
            </svg>

            <div id="letras">
                <span>a</span>
                <span>b</span>
                <span>c</span>
                <span>d</span>
                <span>e</span>
                <span>f</span>
                <span>g</span>
                <span>h</span>
            </div>
        </div>

        <div id="miModal">
            <div id="modalContenido">
                <div id="modalHeader">
                    <span id="modalCerrar">&times;</span>
                    <h2 id="modalTitulo"></h2>
                </div>
                <div id="modalBody">
                </div>
            </div>
        </div>

        <div id="contenedorMov">
            <div id="tablaMov" class="enPartida">
            </div>
            <div id="botonesMov">
                <button type="button" id="btnTodoAtras" class="enPartida">
                    <svg x="0px" y="0px" viewBox="0 0 51.532 51.532">
                        <path d="M6.631,1.963c3.662,0,6.631,2.969,6.631,6.631V23.81c0.284-0.324,
                    0.616-0.609,1-0.831l31.27-18.053c1.238-0.715,2.762-0.715,4,0c1.236,0.714,2,2.035,2,3.464v36.105c0,
                    1.429-0.764,2.75-2,3.463c-0.619,0.357-1.311,0.537-2,
                    0.537c-0.69,0-1.381-0.18-2-0.537l-31.27-18.053c-0.384-0.221-0.716-0.506-1-0.83v13.863c0,3.662-2.969,
                    6.631-6.631,6.631S0,46.6,0,42.938V8.594C0,4.932,2.969,1.963,6.631,1.963z"/>
                    </svg>
                </button>
                <button type="button" id="btnAtras" class="enPartida">
                    <svg x="0px" y="0px" viewBox="0 0 55.753 55.753">
                        <path d="M12.745,23.915c0.283-0.282,0.59-0.52,0.913-0.727L35.266,1.581c2.108-2.107,5.528-2.108,
                    7.637,0.001c2.109,2.108,2.109,5.527,0,7.637L24.294,27.828l18.705,18.706c2.109,2.108,2.109,5.526,
                    0,7.637c-1.055,1.056-2.438,1.582-3.818,
                    1.582s-2.764-0.526-3.818-1.582L13.658,32.464c-0.323-0.207-0.632-0.445-0.913-0.727
                    c-1.078-1.078-1.598-2.498-1.572-3.911C11.147,26.413,11.667,24.994,12.745,23.915z"/>
                    </svg>
                </button>
                <button type="button" id="btnPlayPause" class="enPartida">
                    <svg x="0px" y="0px" viewBox="0 0 47.604 47.604">
                        <path d="M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,
                    1.505-1.48,2.563v41.684c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,
                    0,1.022-0.133,1.48-0.397l36.098-20.84c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,
                    43.331,21.237z"/>
                    </svg>
                </button>
                <button type="button" id="btnAdelante" class="enPartida">
                    <svg x="0px" y="0px" viewBox="0 0 55.752 55.752">
                        <path d="M43.006,23.916c-0.28-0.282-0.59-0.52-0.912-0.727L20.485,
                    1.581c-2.109-2.107-5.527-2.108-7.637,0.001c-2.109,2.108-2.109,5.527,0,7.637l18.611,18.609L12.754,
                    46.535c-2.11,2.107-2.11,5.527,0,7.637c1.055,1.053,2.436,1.58,3.817,1.58s2.765-0.527,
                    3.817-1.582l21.706-21.703c0.322-0.207,0.631-0.444,0.912-0.727c1.08-1.08,1.598-2.498,
                    1.574-3.912C44.605,26.413,44.086,24.993,43.006,23.916z"/>
                    </svg>
                </button>
                <button type="button" id="btnTodoAdelante" class="enPartida">
                    <svg x="0px" y="0px" viewBox="0 0 51.531 51.531">
                        <path d="M44.9,1.963c-3.662,0-6.631,2.969-6.631,
                    6.631V23.81c-0.285-0.324-0.617-0.609-1-0.831L6,4.926c-1.238-0.715-2.762-0.715-4,0C0.763,5.64,0,
                    6.961,0,8.39v36.104c0,1.43,0.763,2.75,2,3.465c0.619,0.356,1.311,0.535,2,0.535c0.691,0,1.381-0.179,
                    2-0.535l31.269-18.053c0.383-0.223,0.715-0.508,1-0.832v13.863c0,3.662,2.969,6.631,6.631,
                    6.631s6.631-2.969,6.631-6.631V8.594C51.531,4.932,48.562,1.963,44.9,1.963z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
{% endblock %}

